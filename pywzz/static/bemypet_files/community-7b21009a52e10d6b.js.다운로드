(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44],{19021:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/community",function(){return n(10608)}])},10608:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return T},default:function(){return B}});var a=n(85893),i=n(67294),s=n(11163),c=n(9669),o=n.n(c),r=n(9954),l=n(51149),u=n(4181),m=n(42946),d=n(7655),p=n(49871),_=n(41664),h=n(54169),g=n(9730),f=n.n(g),y=function(){(0,s.useRouter)();var e=(0,i.useState)([]),t=e[0],n=e[1];return(0,i.useEffect)((function(){o().get("".concat("https://api.bemypet.kr/","community/events/?size=3&is_applicable=true&?force=true/")).then((function(e){n(e.data.results)})).catch((function(e){}))}),[]),(0,a.jsx)("div",{className:f().bestListContainer,children:(0,a.jsx)("div",{className:f().bestListContents,children:t&&t.map((function(e){return(0,a.jsxs)("div",{className:f().listWrapper,children:[(0,a.jsx)("div",{className:f().listLabelWrapper,children:e&&e.animals.map((function(e){return(0,a.jsx)(h.Z,{animalType:e.name})}))}),(0,a.jsx)("div",{className:f().listTitle,children:e.title}),(0,a.jsx)("div",{className:f().listBtnWrapper,children:(0,a.jsx)(_.default,{href:"/event/".concat(e.id),children:(0,a.jsx)("a",{className:f().listBtn,children:e.community_event_action[0].text})})})]})}))})})},x=n(58801),j=n(27484),v=n.n(j),N=n(59309),C=n(57408),b=n(83557),q=n.n(b),L=function(e){var t=e.qnaData,n=/(<([^>]+)>)/gi;return(0,a.jsx)(a.Fragment,{children:t&&t.map((function(e,t){return(0,a.jsxs)("div",{className:q().qaListContainer,children:[(0,a.jsxs)("div",{className:q().qaListWrapper,children:[(0,a.jsxs)("div",{className:q().qaListContent,children:[e.community_type?(0,a.jsxs)("div",{className:q().qaListLabelWrapper,children:[(0,a.jsx)("div",{className:q().communityType,children:"LOUNGE"==e.community_type?"\ub77c\uc6b4\uc9c0":"Q&A"}),(0,a.jsx)(N.Z,{animalType:e.category.name})]}):(0,a.jsx)(N.Z,{animalType:e.category.name}),(0,a.jsx)("div",{className:q().qaListTitle,onClick:function(){"QNA"==e.community_type?s.default.push("/loading/question?id=".concat(e.id)):s.default.push("/lounge/".concat(e.id))},children:e.title}),(0,a.jsx)("div",{className:q().qaListText,onClick:function(){"QNA"==e.community_type?s.default.push("/loading/question?id=".concat(e.id)):s.default.push("/lounge/".concat(e.id))},children:e.content.replace(n,"")})]}),0==e.attachments.length?null:(0,a.jsx)("div",{className:q().qaListImg,onClick:function(){"QNA"==e.community_type?s.default.push("/loading/question?id=".concat(e.id)):s.default.push("/lounge/".concat(e.id))},children:(0,a.jsx)("img",{src:e.attachments[0].source_url})})]}),(0,a.jsxs)("div",{className:q().qaListAbout,onClick:function(){"QNA"==e.community_type?s.default.push("/loading/question?id=".concat(e.id)):s.default.push("/lounge/".concat(e.id))},children:[(0,a.jsxs)("div",{style:{color:"black"},children:["LOUNGE"==e.community_type?"\ub313\uae00":"\ub2f5\ubcc0"," :"," ",e.comment_count]}),(0,a.jsx)("div",{children:e.author.name}),(0,a.jsx)("div",{children:v()(e.created_at).format("YYYY.MM.DD")})]}),(0,a.jsx)("div",{className:q().labelWrapper,children:(0,a.jsx)("div",{className:q().desktopLabelContainer,children:0==e.tags.length?null:e.tags.map((function(e,t){return(0,a.jsx)(C.Z,{tagValue:e.name},t)}))})}),(0,a.jsx)("hr",{className:q().qaListDivider})]},t)}))})},k=n(5625),I=n(3152),S=n.n(I),W=n(9008);function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var T=!0,B=function(e){var t=e.isLoggedIn,n=e.page,c=(0,s.useRouter)(),_=(0,i.useState)([]),h=_[0],g=_[1],f=(0,i.useState)(""),j=f[0],v=f[1],N=(0,i.useState)("\ucd5c\uc2e0 \uc21c"),C=N[0],b=N[1],q=(0,i.useState)("\uc815\ud655\ub3c4 \uc21c"),I=q[0],T=q[1],B=(0,i.useState)([]),P=B[0],E=B[1],Z=(0,i.useState)(!1),O=Z[0],R=Z[1],A=(0,i.useState)(10),F=A[0],z=(A[1],(0,i.useState)(0)),Y=z[0],M=z[1],G=(0,i.useState)(Number(n)),K=G[0],Q=G[1],U=(0,i.useState)(!1),X=U[0],H=U[1],J=(0,i.useState)(!1),V=J[0],$=J[1];(0,i.useEffect)((function(){var e=P.map((function(e){return e.name})).map((function(e){return"\uac15\uc544\uc9c0"==e?8:"\uace0\uc591\uc774"==e?9:"\uc18c\ub3d9\ubb3c"==e?10:"\uae30\ud0c0"==e?3:null})).join("__"),t="\ucd5c\uc2e0 \uc21c"==C?"-id":"-popularity",n="\ucd5c\uc2e0 \uc21c"==I?"-created_at":"\ub2f5\ubcc0 \uc218 \uc21c"==I?"-answer_count":"-_score",a=void 0!=c.query.q?"search=".concat(c.query.q?c.query.q:j,"&"):"",i="".concat("https://api.bemypet.kr/","community/posts/?offset=").concat((K-1)*F,"&ordering=").concat(t,"&size=").concat(F,"&deleted_at__exists=false&?force=true?cb=").concat(Date.now()),s="".concat("https://api.bemypet.kr/","search/community-posts/?offset=").concat((K-1)*F,"&ordering=").concat(t,"&category_id__in=").concat(e,"&size=").concat(F,"&deleted_at__exists=false&?force=true"),r="".concat("https://api.bemypet.kr/","search/community-posts/?").concat(a,"offset=").concat((K-1)*F,"&size=").concat(F,"&ordering=").concat(n,"&category_id__in=").concat(e,"&deleted_at__exists=false&?force=true");o().get(void 0!=c.query.q?r:P.length>0?s:i).then((function(e){g(e.data.results),M(e.data.count),R(!1),j&&Y!=e.data.count&&Q(1);var t="/community?p=".concat(K),n="/community?q=".concat(c.query.q?c.query.q:j,"&p=").concat(K);c.push(c.query.q?n:t)})).catch((function(e){console.error(e,"\uc5d0\ub7ec")}))}),[C,I,O,K,c.query.q]);var ee=function(){H((function(e){return!e}))},te=function(){$((function(e){return!e}))},ne=function(e){R(!0),H(!1)},ae=function(e){var t=e.target.value;b(t)},ie=function(e){var t=e.target.value;T(t)},se=(0,i.useCallback)((function(e,t){E(e?w(P).concat([t]):P.filter((function(e){return e!==t})))}),[P]),ce=function(){var e=/[\{\}\[\]\/?.,;:|\)*~`!^\-+@\#$%&\\\=\\(\'\")]/gi,t=j.replace(e,""),n="/community?q=".concat(t,"&p=1");if(j.length<1)alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694!");else for(var a=0;a<j.length-1;a++){if(1==e.test(j)){j[a]==j[a+1]?alert("\uc62c\ubc14\ub978 \uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694!"):c.push(n);break}c.push(n)}},oe=function(){E([])},re=window.location.href?window.location.href:"";return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(W.default,{children:[(0,a.jsx)("title",{children:"\ubc18\ub824\ub3d9\ubb3c \ucee4\ubba4\ub2c8\ud2f0 - \ube44\ub9c8\uc774\ud3ab"}),(0,a.jsx)("link",{rel:"shortcut icon",href:"/favicon.ico"}),(0,a.jsx)("meta",{property:"og:locale",content:"ko_KR"}),(0,a.jsx)("meta",{property:"og:site_name",content:"\ube44\ub9c8\uc774\ud3ab"}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:url",content:re}),(0,a.jsx)("meta",{property:"og:title",content:"\ubc18\ub824\ub3d9\ubb3c \ucee4\ubba4\ub2c8\ud2f0 - \ube44\ub9c8\uc774\ud3ab "}),(0,a.jsx)("meta",{property:"og:image",content:"https://bff-images.bemypet.kr/static/assets/og_image.png"}),(0,a.jsx)("meta",{property:"og:description",content:"\uac15\uc544\uc9c0, \uace0\uc591\uc774 \uc9d1\uc0ac\ub97c \uc704\ud55c \ubc18\ub824\ub3d9\ubb3c \ucee4\ubba4\ub2c8\ud2f0"})]}),(0,a.jsx)(r.Z,{toggleSide:ee,sidebarOpen:X,checkedItems:P,onCheckElement:se,resetCheckedItem:oe,checkChange:ne,setSideBarOpen:H}),(0,a.jsx)(u.Z,{openSheet:V,toggleSheet:te,isLoggedIn:t}),(0,a.jsxs)("div",{className:S().loungeContainer,children:[(0,a.jsx)(d.Z,{}),(0,a.jsx)("div",{className:S().loungeContents,children:(0,a.jsxs)("div",{className:S().qaPageSearchContainer,children:[(0,a.jsxs)("div",{className:S().inputContainer,children:[(0,a.jsx)("img",{src:"/icons/ICON-24px-Search.svg",className:S().searchInputImg,onClick:ce}),(0,a.jsx)("input",{type:"text",placeholder:"\ucc3e\uc73c\uc2dc\ub294 \ucee4\ubba4\ub2c8\ud2f0 \uae00\uc774 \uc788\uc73c\uc2e0\uac00\uc694?",onChange:function(e){var t=e.target.value;v(t)},maxLength:"130",className:S().searchInput,defaultValue:j,onKeyPress:function(e){"Enter"==e.key&&ce()}}),j.length>=1&&(0,a.jsx)("img",{src:"/icons/ICON-24px-Cancle.svg",className:S().searchCloseImg,onClick:function(){v("")}})]}),(0,a.jsx)(p.Z,{}),(0,a.jsx)("div",{className:S().eventTitle,children:"\uc774\ubca4\ud2b8"}),(0,a.jsx)(y,{})]})}),(0,a.jsx)("hr",{className:S().pageDivider}),(0,a.jsxs)("div",{className:S().loungeContents,children:[(0,a.jsxs)("div",{className:S().filterBtnWrapper,children:[(0,a.jsx)("div",{className:S().radioContainer,children:(void 0!=c.query.q?["\uc815\ud655\ub3c4 \uc21c","\ub2f5\ubcc0 \uc218 \uc21c","\ucd5c\uc2e0 \uc21c"]:["\ucd5c\uc2e0 \uc21c","\uc778\uae30 \uc21c"]).map((function(e,t){return(0,a.jsx)("div",{className:S().radioWrap,children:(0,a.jsx)(x.Z,{name:"question",id:e,value:e,checked:(void 0!=c.query.q?I:C)===e,onChange:void 0!=c.query.q?ie:ae,htmlFor:e,label:e},t)},t)}))}),(0,a.jsxs)("button",{className:S().qaPageFilterBtn,onClick:ee,children:[(0,a.jsx)("img",{src:"/icons/filter-solid.svg",className:S().qaPageFilterImg})," ","\ud544\ud130"]})]}),(0,a.jsxs)("div",{className:S().loungeLeftContent,children:[(0,a.jsx)("div",{className:S().loungeList,children:0==Y?(0,a.jsxs)("div",{className:S().noDataWrapper,children:[(0,a.jsx)("div",{className:S().noDataImgWrapper,children:(0,a.jsx)("img",{src:"/image/no_result_new.png",className:S().noDataImg})}),(0,a.jsx)("div",{children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"})]}):(0,a.jsx)(L,{qnaData:h})}),(0,a.jsxs)("div",{className:S().loungeRightContainer,children:[(0,a.jsx)(l.Z,{isLoggedIn:t}),(0,a.jsxs)("div",{className:S().loungeRightContent,children:[(0,a.jsx)("div",{className:S().sortTitle,children:"\ub3d9\ubb3c\uc720\ud615"}),D.map((function(e){return(0,a.jsxs)("div",{className:S().checkboxwrap,children:[(0,a.jsx)("input",{type:"checkbox",name:"a",id:"a",onChange:function(t){return se(t.target.checked,e)},checked:!!P.includes(e)}),(0,a.jsx)("label",{htmlFor:"a",className:S().checkLabel,children:e.name})]},e.id)})),P.length>=1&&(0,a.jsx)("button",{className:S().resetBtn,onClick:oe,children:"\uc804\uccb4 \uc120\ud0dd \ud574\uc81c"}),(0,a.jsx)("button",{className:S().applyBtn,onClick:ne,children:"\uc801\uc6a9"})]})]})]}),0==Y?null:(0,a.jsx)(k.Z,{currentPage:K,pageSize:F,totalCount:Y,handlePageChange:function(e){Q(e)}}),(0,a.jsx)(m.Z,{isLoggedIn:t,toggleSheet:te})]})]})]})},D=[{id:1,name:"\uac15\uc544\uc9c0"},{id:2,name:"\uace0\uc591\uc774"},{id:3,name:"\uc18c\ub3d9\ubb3c"},{id:4,name:"\uae30\ud0c0"}]},9730:function(e){e.exports={bestListContainer:"eventList_bestListContainer__SbKwa",bestListContents:"eventList_bestListContents__6O1OW",listWrapper:"eventList_listWrapper__j3173",listLabelWrapper:"eventList_listLabelWrapper__FhSoh",listTitle:"eventList_listTitle__2J_kM",listBtnWrapper:"eventList_listBtnWrapper__vJ8HS",listBtn:"eventList_listBtn__J__rU"}},3152:function(e){e.exports={loungeContainer:"community_loungeContainer__mU590",filterBtnWrapper:"community_filterBtnWrapper__RP2LE",radioContainer:"community_radioContainer__b_adD",radioWrap:"community_radioWrap__veOrk",qaPageFilterBtn:"community_qaPageFilterBtn__gMcIg",pageDivider:"community_pageDivider__T30_O",loungeContents:"community_loungeContents__dbIl9",qaPageSearchContainer:"community_qaPageSearchContainer__Gfmkl",pageTitle:"community_pageTitle__jdPSz",eventTitle:"community_eventTitle__9tsoZ",qaPageFilter:"community_qaPageFilter__dRptj",inputContainer:"community_inputContainer__6GZcA",searchInput:"community_searchInput___6p2d",searchInputImg:"community_searchInputImg__6afzk",searchCloseImg:"community_searchCloseImg__NBEOp",loungeLeftContent:"community_loungeLeftContent__wnv1Z",loungeList:"community_loungeList__HbstN",loungeRightContainer:"community_loungeRightContainer__cK_7p",loungeRightContent:"community_loungeRightContent__KR4MF",sortTitle:"community_sortTitle__d5jzb",checkboxwrap:"community_checkboxwrap__Y1wRC",checkLabel:"community_checkLabel___E5NG",applyBtn:"community_applyBtn__X04Hi",resetBtn:"community_resetBtn___eYjZ",noDataWrapper:"community_noDataWrapper__miy7d",noDataImgWrapper:"community_noDataImgWrapper__P4_RY",noDataImg:"community_noDataImg__XNMEf"}}},function(e){e.O(0,[7739,8695,6260,1849,7817,8573,9774,2888,179],(function(){return t=19021,e(e.s=t);var t}));var t=e.O();_N_E=t}]);